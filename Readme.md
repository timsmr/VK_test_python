# Тестовое задание на стажировку в VK на Python-разработчика

## ТЗ:

<strong>Необходимо спроектировать и разработать Django-сервис друзей.</strong>

Сервис должен предоставлять возможности:

- зарегистрировать нового пользователя

- отправить одному пользователю заявку в друзья другому

- принять/отклонить пользователю заявку в друзья от другого пользователя
- посмотреть пользователю список своих исходящих и входящих заявок в друзья
- посмотреть пользователю список своих друзей
- получить пользователю статус дружбы с каким-то другим пользователем (нет ничего / есть исходящая заявка / есть входящая заявка / уже друзья)
- удалить пользователю другого пользователя из своих друзей
- если пользователь1 отправляет заявку в друзья пользователю2, а пользователь2 отправляет заявку пользователю1, то они автоматом становятся друзьями, их заявки автоматом принимаются

<strong>Модель пользователя может быть самой простой:</strong>

- id
- username

<strong>Необходимо:</strong>

- описать REST интерфейс сервиса с помощью OpenAPI
- написать на Django сервис по этой спецификации
- описать краткую документацию с примерами запуска сервиса и вызова его API
+ unit-тесты будут плюсом
+ Dockerfile для упаковки в контейнер будет плюсом

<strong>Выходные артефакты:</strong>

- исходный код

- OpenAPI спецификация

- документация с описанием запуска и примерами использования API

-------

## Ручная установка:

- Установка библиотек
```bash
pip install -r requirements.txt
```

- Создать файл .env в корневой директории и добавить необходимые константы
```env
SECRET_KEY = "django-insecure-dmiaksz2ld2(7^r!$kv4mqv2rr#xor3!w&eog=lt_dd8a127ix"

DB_NAME = "VKtest"
DB_USER = "<ваш_username_от_postgres>"
DB_PASSWORD = "<ваш_пароль_от_postgres>"
DB_HOST = "localhost"
DB_PORT = "5432" 
```

<!-- - Прогнать миграции
```bash
python manage.py migrate
``` -->

- Запустить сервер:

``` bash
python manage.py runserver
```

------

## Упаковка в докер:

- Создать файл .env в корневой директории и заполнить необходимые константы
```env
SECRET_KEY = "django-insecure-dmiaksz2ld2(7^r!$kv4mqv2rr#xor3!w&eog=lt_dd8a127ix"

DB_NAME = "VKtest"
DB_USER = "<ваш_username_от_postgres>"
DB_PASSWORD = "<ваш_пароль_от_postgres>"
DB_HOST = "localhost"
DB_PORT = "5432" 
```

- Сбилдить контейнер

```bash
docker build -t vk_test .
```

- Запустить контейнер

```bash
docker run -dp 8000:8000 vk_test
```

---------
## Использование

По эндпоинту /swagger/ доступна документация по api.
